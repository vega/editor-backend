html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    meta(http-equiv="X-UA-Compatible", content="ie=edge")
    style.
      body { font-family: sans-serif; margin: 20px; }
      .token { background: #f0f0f0; padding: 10px; word-break: break-all; margin: 10px 0; }
      .result { background: #e0ffe0; padding: 10px; margin: 10px 0; word-break: break-all; }
      .result pre { white-space: pre-wrap; }
      .debug-section { border: 1px solid #ccc; padding: 15px; margin: 20px 0; }
  body
    h2 Welcome to editor-backend!
    p Here is the list of routes available in this project.
    ul
      each value, index in authUrl
        if index == "main"
          li Log in: 
            a(href=value) #{host}#{value}
        else if index == "logout"
          li Log out: 
            a(href=value) #{host}#{value}
      li Vega Editor API documentation: 
        a(href=docsUrl) #{docsUrl}
    
    .debug-section
      h3 Current Auth Token:
      .token#token Loading...
      
      h3 Auth Check Result:
      .result#result Loading...
      
      script.
        const token = localStorage.getItem('vega_editor_auth_token');
        document.getElementById('token').textContent = token || 'No token found';
        
        if (token) {
          fetch('/auth/github/check', {
            headers: {
              'X-Auth-Token': token
            }
          })
          .then(response => response.json())
          .then(data => {
            document.getElementById('result').innerHTML = '<pre>' + JSON.stringify(data, null, 2) + '</pre>';
          })
          .catch(error => {
            document.getElementById('result').textContent = 'Error: ' + error.message;
          });
        } else {
          document.getElementById('result').textContent = 'No token available to test';
        }
